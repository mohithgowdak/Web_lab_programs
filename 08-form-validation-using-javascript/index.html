<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>

<head>
    <title>XHTML form</title>
    <style>
        #forms {
            width: 100%;
            height: 300px;
            border: 1px solid;
            display: block;
        }
        
        ul {
            list-style: none;
        }

        h2 {
            text-align: center;
        }

        li {
            height: 30px;
            line-height: 30px;
        }
    </style>
    <script>
        function validateFormAndCalc(event) {
            event.preventDefault(); // Prevent form submission

            var usn = document.getElementById("regno").value;
            var code = document.getElementById("subcode").value;
            var m1 = document.getElementById("marks-1").value;
            var m2 = document.getElementById("marks-2").value;
            var m3 = document.getElementById("marks-3").value;

            if (!usn || !code || !m1 || !m2 || !m3) {
                alert("All fields are required");
                return;
            }

            m1 = parseInt(m1);
            m2 = parseInt(m2);
            m3 = parseInt(m3);

            if (isNaN(m1) || isNaN(m2) || isNaN(m3) || m1 > 20 || m2 > 20 || m3 > 20) {
                alert("Enter valid marks (0-20)");
                return;
            }

            var information =
            "USN: " + usn + "\n" +
            "Subject Code: " + code + "\n" +
            "Marks 1: " + m1 + "\n" +
            "Marks 2: " + m2 + "\n" +
            "Marks 3: " + m3 + "\n";
            console.log(information);

            var marks = [m1, m2, m3];
            marks.sort(function(a, b) {
                return a - b;
            });

            var avg = (marks[1] + marks[2]) / 2;
            alert(`The average is ${avg}`);
            alert(`${information}`);
        }
    </script>
</head>

<body>
    <div>
        <h2>XHTML Form</h2>
    </div>
    <div id="forms">
        <form onsubmit="validateFormAndCalc(event)">
            <ul align="center">
                <li>
                    <label for="regno">Register Number (USN)</label>
                    <input type="text" id="regno" required="required" />
                </li>
                <li>
                    <label for="subcode">Subject Code</label>
                    <input type="text" id="subcode" required="required" />
                </li>
                <li>
                    <label for="marks-1">Test 1 Marks</label>
                    <input type="text" id="marks-1" required="required" />
                </li>
                <li>
                    <label for="marks-2">Test 2 Marks</label>
                    <input type="text" id="marks-2" required="required" />
                </li>
                <li>
                    <label for="marks-3">Test 3 Marks</label>
                    <input type="text" id="marks-3" required="required" />
                </li>
            </ul>
            <div align="center">
                <button type="submit" class="btn">Submit</button>
            </div>
        </form>
    </div>
    <div>
        <p id="res" align="center"></p>
    </div>
</body>

</html>
